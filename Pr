
import java.io.IOException;
import java.io.BufferedReader;
import java.io.IOException;
import java.io.InputStream;
import java.io.InputStreamReader;
import java.io.Reader;
import java.net.URL;
import java.nio.charset.Charset;

import java.net.HttpURLConnection;
import java.net.URL;
import java.util.StringJoiner;  

import java.util.Scanner;

import org.jsoup.Jsoup;
import org.jsoup.nodes.Document;
import org.jsoup.nodes.Element;
import org.jsoup.select.Elements;
import org.json.JSONObject;
import org.json.JSONException;




public class Stockx {

	public static final String Stockx_SEARCH_URL = "https://www.stockx.com/";
	public static String url ;
	public static void main1(String[] args) throws IOException {
		//Taking search term input from console
		Scanner scanner = new Scanner(System.in);
		System.out.println("Please enter the search term.");
		String searchTerm = scanner.nextLine();
		 int count=0;  
	      
         char ch[]= new char[searchTerm.length()];     
         for(int i=0;i<searchTerm.length();i++)  
         {  
             ch[i]= searchTerm.charAt(i);  
             if( ((i>0)&&(ch[i]!=' ')&&(ch[i-1]==' ')) || ((ch[0]!=' ')&&(i==0)) )  
                 count++;  
         }  
         System.out.println(count);
		// Enter dashes between each word of string to add at end of Stockx string seach url
		// Extract words
		String[] words = searchTerm.split(" ");

		// Manipulate them
		for (int i = 1; i < (count); i++) {
		    words[i] ="-" + words[i]  ;
		}
		// Put them back as sentence
		StringJoiner sj = new StringJoiner(" ");
		for (String word : words) {
		    sj.add(word);
		}

		String revsearchTerm = sj.toString();
		System.out.println(revsearchTerm);
		
		String search = revsearchTerm.replaceAll("\\s", "");
		System.out.println(search);
		scanner.close();
		Stockx.url = (Stockx_SEARCH_URL+search);
	}
	   // URL obj; //making the object 
	  //  obj = new URL(url);         
	  //  HttpURLConnection con = (HttpURLConnection) obj.openConnection();
	  //  con.setRequestMethod("GET"); 
		  private static String readAll(Reader rd) throws IOException {
			    StringBuilder sb = new StringBuilder();
			    int cp;
			    while ((cp = rd.read()) != -1) {
			      sb.append((char) cp);
			    }
			    return sb.toString();
			  }

			  public static JSONObject readJsonFromUrl(String url) throws IOException, JSONException {
			    InputStream is = new URL(url).openStream();
			    try {
			      BufferedReader rd = new BufferedReader(new InputStreamReader(is, Charset.forName("UTF-8")));
			      String jsonText = readAll(rd);
			      JSONObject json = new JSONObject(jsonText);
			      return json;
			    } finally {
			      is.close();
			    }
			  }

			  public static void main(String[] args) throws IOException, JSONException {
				  String newurl= Stockx.url ;
				JSONObject json = readJsonFromUrl(newurl);
			    System.out.println(json.toString());
			    System.out.println(json.get("id"));
			  }
		
		
		
    }
